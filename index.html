<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>The Vault GUI</title>

  <link rel="stylesheet" href="{{ static_url("style.css") }}">
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>
    <div id="container"></div>
    <!--<div id="slider"></div>-->
    <div id="slider-tooltip"></div>
    <div id="obj-tooltip">Module: </div>
    <div id="val-tooltip">Value: </div>
    <!--<div id="stat-tooltip">Status: </div>-->
    <div class="window-item window-unitem" id="message">
        <div class="bar-header">
            <div class="bar-title noselect">Message Log</div>
            
            <div class="bar-dropdown noselect">^</div>
            <div class="bar-close noselect">&#215;</div>
        </div>
        <div class="bar-message">
            <div class="bar-wrapper" style="height:200px; overflow-y:scroll;">
            </div>
        </div>
    </div>
    
    <div class="window-item window-unitem" id="settings">
        <div class="bar-header">
            <div class="bar-title noselect">Settings</div>
            
            <div class="bar-dropdown noselect">^</div>
            <div class="bar-close noselect">&#215;</div>
        </div>
        <div class="bar-settings">
            <div class="bar-wrapper">
                <div class="bar-setup">
		    <input type="checkbox" id="mylabel">label<br>
		    
		    <span class="bl bar-hl">Start time</span>
                    <span class="br bar-info">
                        <input id="start_time" class="jscolor" value="1472688000">
                    </span>
		    
                </div>
                <div class="bar-setup">
                    <span class="bl bar-hl">End time</span>
                    <span class="br bar-info">
                        <input id="end_time" class="jscolor" value="1472774400">
                    </span>
                </div>
            </div>
        </div>
    </div> 
    
    <div class="window-item" id="orientation">
        <div class="bar-header">
            <div class="bar-title noselect">Orientation</div>
            
            <div class="bar-dropdown noselect">^</div>
            <div class="bar-close noselect">&#215;</div>
        </div>
        <div class="bar-orientation">
            <canvas class="bar-wrapper" id="compass" width="200" height="180"></canvas>
        </div>
    </div>
    
    
    <div id="window-tab">
        <div id="offMessage" class="noselect bar-pil">Message Log</div>
        <div id="offOrientation" class="noselect bar-pil">Orientation</div>
        <!--<div id="offSettings" class="noselect bar-pil">Settings</div>-->
    </div>
    
    <div class="window-cp" id="control-panel">
        <div class="bar-header">
            <div id="toggleGUI" class="bar-button noselect">Show/Hide GUI</div>
            <div id="showTabs" class="bar-button noselect">Windows</div>
            <!--<div id="runSimulation" class="bar-button noselect">Run</div>-->
            <!---
            <div id="testTrigger" class="bar-button noselect">Test Trigger</div>
            -->
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="{{ static_url("scripts.js") }}"></script>
    <script src="{{ static_url("three.min.js") }}"></script>
    <script src="{{ static_url("OrbitControls.js") }}"></script>
    <script>
        // Global variable
        var img = null,
	    needle = null,
	    ctx = null;

        function clearCanvas() {
	    // clear canvas
	    ctx.clearRect(0, 0, 200, 200);
        }

        function draw(degrees) {
            //console.log("Draw degree");
            //console.log(degrees);
	    clearCanvas();

	    // Draw the compass onto the canvas
	    ctx.drawImage(img, 0, 0);

	    // Save the current drawing state
	    ctx.save();

	    // Now move across and down half the 
	    ctx.translate(100, 100);

	    // Rotate around this point
	    ctx.rotate(degrees * (Math.PI / 180));

            // Draw the image back and up
	    ctx.drawImage(needle, -100, -100);

	    // Restore the previous drawing state
	    ctx.restore();

	    // Increment the angle of the needle by 5 degrees
	    //degrees += 5;
        }

        function imgLoaded() {
	    // Image loaded event complete.  Start the timer
            draw(myvalue);
	    //setInterval(draw, 100);
        }

        function init() {
	    // Grab the compass element
	    var canvas = document.getElementById('compass');

	    // Canvas supported?
	    if (canvas.getContext('2d')) {
	        ctx = canvas.getContext('2d');

	        // Load the needle image
	        needle = new Image();
	        needle.src = 'http://katrin.kit.edu/static/needle_01.svg';

	        // Load the compass image
	        img = new Image();
	        img.src = 'http://katrin.kit.edu/static/compass_01.svg';
	        img.onload = imgLoaded;
            } else {
	        alert("Canvas not supported!");
            }
        }

        var myvalue = 0;
        init();
        
        
    </script>
    <script src="https://dl.dropboxusercontent.com/u/3587259/Code/Threejs/CSS3DRenderer.js"></script>
    <script>
        var camera, scene, renderer;
        var container;
        var mycontrol;
        var enableControls = true;
        var enableRotate = false;
        var pv001;
        var data;
	var labelFlag;
        var raycaster = new THREE.Raycaster();
        var mouse = new THREE.Vector2();

	$("#mylabel").change(function() {
	    if(this.checked) {
	        labelFlag = true;
            } else {
	        labelFlag = false;
	    }
        });
        
	function onMouseMove( event ) {
	    // calculate mouse position in normalized device coordinates
	    // (-1 to +1) for both components
	    mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;
	    mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;		
        }


        init();
        animate();
        window.addEventListener( 'mousemove', onMouseMove, false );

	function createLabel(name) {
	    var text2 = document.createElement('div');
            text2.style.position = 'absolute';
            //text2.style.zIndex = 1;    // if you still don't see the label, try uncommenting this
            text2.style.fontSize = "12px";
            text2.style.width = 100;
            text2.style.height = 100;
            text2.style.padding = "2px";
            text2.style.backgroundColor = '#303030';
            text2.style.color = '#fff';
            text2.innerHTML = name;
            //text2.style.top = 200 + 'px';
            //text2.style.left = 200 + 'px';
            text2.id = "text"+name;
            document.body.appendChild(text2);
        }

            
        function init() {
            setMessage("3D", "Initialization.");
            scene = new THREE.Scene();
                
            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);
            camera.position.set(0, 45, 100);
            camera.lookAt(scene.position);

            container = document.getElementById( 'container' );
            document.body.appendChild( container );
            renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            //renderer = new THREE.CSS3DRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor( 0xffffff, 0);
            container.appendChild(renderer.domElement);

            mycontrol = new THREE.OrbitControls( camera );

            var size = 40, step = 1;
                
            var geometry = new THREE.Geometry();
            var material = new THREE.LineBasicMaterial({color: 0xe3e3e3, linewidth: 1, fog:true});

            for ( var i = - size; i <= size; i += step ) {
                geometry.vertices.push(new THREE.Vector3( -size, -0.04, i ));
                geometry.vertices.push(new THREE.Vector3( size, -0.04, i ));
                    
                geometry.vertices.push(new THREE.Vector3( i, -0.04, -size ));
                geometry.vertices.push(new THREE.Vector3( i, -0.04, size ));
            }
            var line = new THREE.LineSegments( geometry, material );
            scene.add(line);
            
            setMessage("3D", "Added grid plane.");
            /*
            var geometry = new THREE.BoxGeometry( 1, 1, 1 );
            var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
            var cube = new THREE.Mesh( geometry, material );
            */
                
            var light = new THREE.DirectionalLight( 0xffffff );
            light.position.set( 0, 1, 1 ).normalize();
            scene.add(light);
            setMessage("3D", "Added directional light.");
            
            pv001 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1,1),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv001.position.set(-18, 0.5, 29);
            pv001.rotateY( Math.PI / 3 );
	    pv001.rotateX( Math.PI / 12);
            pv001.name = "2A_15_60e_001_02";
            scene.add(pv001);
            setMessage("3D", "Loaded PV001.");
            createLabel("001");

            pv002 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv002.position.set(-14, 0.5, 30);
            pv002.rotateY( Math.PI / 3 );
	    pv002.rotateX( Math.PI / 12);
            pv002.name = "5A_15_60e_002_02";
            scene.add(pv002);
            setMessage("3D", "Loaded PV002.");
            createLabel("002");
            pv003 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv003.position.set(9.5, 0.5, 2);
            pv003.rotateY( Math.PI / 3 );
            pv003.rotateX( Math.PI / 6);
	    pv003.name = "6A_30_60e_003_02";
            scene.add(pv003);
            setMessage("3D", "Loaded PV003.");
            createLabel("003");

            pv004 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv004.position.set(6, 0.5, 1);
            pv004.rotateY( Math.PI / 3 );
            pv004.rotateX( Math.PI / 6);
            pv004.name = "1A_30_60e_004_02";
            scene.add(pv004);
            setMessage("3D", "Loaded PV004.");
            createLabel("004");

            pv005 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv005.position.set(-8, 0.5, -3);
            pv005.rotateY( Math.PI / 3 );
	    pv005.rotateX( Math.PI / 4);
            pv005.name = "6A_45_60e_005_02";
            scene.add(pv005);
            setMessage("3D", "Loaded PV005.");
            createLabel("005");

            pv006 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv006.position.set(-4.5, 0.5, -2);
            pv006.rotateY( Math.PI / 3 );
	    pv006.rotateX( Math.PI / 4);
            pv006.name = "1A_45_60e_006_02";
            scene.add(pv006);
            setMessage("3D", "Loaded PV006.");
            createLabel("006");

            pv007 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv007.position.set(-5, 0.5, -16);
            pv007.rotateY( Math.PI / 3 );
	    pv007.rotateX( Math.PI / 3);
            pv007.name = "6C_60_60e_007_02";
            scene.add(pv007);
            setMessage("3D", "Loaded PV007.");
            createLabel("007");

            pv008 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv008.position.set(-7, 0.5, -9);
            pv008.rotateY( Math.PI / 3 );
	    pv008.rotateX( Math.PI / 3);
            pv008.name = "1C_60_60e_008_02";
            scene.add(pv008);
            setMessage("3D", "Loaded PV008.");
            createLabel("008");

            pv009 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv009.position.set(13, 0.5, 3);
            pv009.rotateY( Math.PI / 4 );
	    pv009.rotateX( Math.PI / 12);
            pv009.name = "2A_15_45e_009_02";
            scene.add(pv009);
            setMessage("3D", "Loaded PV009.");
            createLabel("009");

            pv010 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv010.position.set(18, 0.5, 4);
            pv010.rotateY( Math.PI / 4 );
	    pv010.rotateX( Math.PI / 12);
            pv010.name = "1A_15_45e_010_02";
            scene.add(pv010);
            setMessage("3D", "Loaded PV010.");
            createLabel("010");

            pv011 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv011.position.set(3.5, 0.5, -0.5);
            pv011.rotateY( Math.PI / 4 );
	    pv011.rotateX( Math.PI / 12);
            pv011.name = "4A_15_45e_011_02";
            scene.add(pv011);
            setMessage("3D", "Loaded PV011.");
            createLabel("011");

            pv012 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv012.position.set(17, 0.5, -1);
            pv012.rotateY( Math.PI / 4 );
	    pv012.rotateX( Math.PI / 6);
            pv012.name = "6A_30_45e_012_02";
            scene.add(pv012);
            setMessage("3D", "Loaded PV012.");
            createLabel("012");

            pv013 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv013.position.set(-2, 0.5, -1);
            pv013.rotateY( Math.PI / 4 );
	    pv013.rotateX( Math.PI / 6);
            pv013.name = "2A_30_45e_013_02";
            scene.add(pv013);
            setMessage("3D", "Loaded PV013.");
            createLabel("013");

            pv014 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv014.position.set(9, 0.5, -3);
            pv014.rotateY( Math.PI / 4 );
	    pv014.rotateX( Math.PI / 4);
            pv014.name = "2A_45_45e_014_02";
            scene.add(pv014);
            setMessage("3D", "Loaded PV014.");
            createLabel("014");

            pv015 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv015.position.set(12.5, 0.5, -2);
            pv015.rotateY( Math.PI / 4 );
	    pv015.rotateX( Math.PI / 4);
            pv015.name = "4A_45_45e_015_02";
            scene.add(pv015);
            setMessage("3D", "Loaded PV015.");
            createLabel("015");

            pv016 = new THREE.Mesh(
	        new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv016.position.set(-1, 0.5, -22);
            pv016.rotateY( Math.PI / 4 );
	    pv016.rotateX( Math.PI / 3);
            pv016.name = "6A_60_45e_016_02";
            scene.add(pv016);
            setMessage("3D", "Loaded PV016.");
            createLabel("016");

            pv017 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv017.position.set(-2, 0.5, -26);
            pv017.rotateY( Math.PI / 4 );
	    pv017.rotateX( Math.PI / 3);
            pv017.name = "2A_60_45e_017_02";
            scene.add(pv017);
            setMessage("3D", "Loaded PV017.");
            createLabel("017");

            pv018 = new THREE.Mesh(
	        new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv018.position.set(-8.5, 0.5, 23);
            pv018.rotateY( Math.PI / 6 );
	    pv018.rotateX( Math.PI / 12);
            pv018.name = "3A_15_30e_018_02";
            scene.add(pv018);
            setMessage("3D", "Loaded PV018.");
            createLabel("018");

            pv019 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv019.position.set(-10, 0.5, 26.5);
            pv019.rotateY( Math.PI / 6 );
	    pv019.rotateX( Math.PI / 12);
            pv019.name = "1A_15_30e_019_02";
            scene.add(pv019);
            setMessage("3D", "Loaded PV019.");
            createLabel("019");

            pv020 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv020.position.set(6, 0.5, 14);
            pv020.rotateY( Math.PI / 6 );
	    pv020.rotateX( Math.PI / 12);
            pv020.name = "1B_15_30e_020_02";
            scene.add(pv020);
            setMessage("3D", "Loaded PV020.");
            createLabel("020");

            pv021 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv021.position.set(12, 0.5, 19);
            pv021.rotateY( Math.PI / 6 );
	    pv021.rotateX( Math.PI / 12);
            pv021.name = "1D_15_30e_021_02";
            scene.add(pv021);
            setMessage("3D", "Loaded PV021.");
            createLabel("021");

            pv022 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv022.position.set(6, 0.5, 17);
            pv022.rotateY( Math.PI / 6 );
	    pv022.rotateX( Math.PI / 12);
            pv022.name = "1C_15_30e_022_02";
            scene.add(pv022);
            setMessage("3D", "Loaded PV022.");
            createLabel("022");

            pv023 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv023.position.set(9, 0.5, 18);
            pv023.rotateY( Math.PI / 6 );
            pv023.rotateX( Math.PI / 12);
            pv023.name = "5A_15_30e_023_02";
            scene.add(pv023);
            setMessage("3D", "Loaded PV023.");
            createLabel("023");

            pv024 = new THREE.Mesh(
	        new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv024.position.set(-16, 0.5, 24);
            pv024.rotateY( Math.PI / 6 );
	    pv024.rotateX( Math.PI / 6);
            pv024.name = "6D_30_30e_024_02";
            scene.add(pv024);
            setMessage("3D", "Loaded PV024.");
            createLabel("024");

            pv025 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv025.position.set(-15, 0.5, 26);
            pv025.rotateY( Math.PI / 6 );
	    pv025.rotateX( Math.PI / 6);
            pv025.name = "3D_30_30e_025_02";
            scene.add(pv025);
            setMessage("3D", "Loaded PV025.");
            createLabel("025");

            pv026 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv026.position.set(1.5, 0.5, -7.5);
            pv026.rotateY( Math.PI / 6 );
	    pv026.rotateX( Math.PI / 4);
            pv026.name = "6A_45_30e_026_02";
            scene.add(pv026);
            setMessage("3D", "Loaded PV026.");
            createLabel("026");

            pv027 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv027.position.set(-3, 0.5, -8.5);
            pv027.rotateY( Math.PI / 6 );
            pv027.rotateX( Math.PI / 4);
            pv027.name = "3A_45_30e_027_02";
            scene.add(pv027);
            setMessage("3D", "Loaded PV027.");
            createLabel("027");

            pv028 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv028.position.set(3, 0.5, -4.5);
            pv028.rotateY( Math.PI / 6 );
	    pv028.rotateX( Math.PI / 4);
            pv028.name = "1A_45_30e_028_02";
            scene.add(pv028);
            setMessage("3D", "Loaded PV028.");
            createLabel("028");

            pv029 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv029.position.set(3, 0.5, -25);
            pv029.rotateY( Math.PI / 6 );
	    pv029.rotateX( Math.PI / 3);
            pv029.name = "6A_60_30e_029_02";
            scene.add(pv029);
            setMessage("3D", "Loaded PV029.");
            createLabel("029");

            pv030 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv030.position.set(1, 0.5, -13);
            pv030.rotateY( Math.PI / 6 );
	    pv030.rotateX( Math.PI / 3);
            pv030.name = "3A_60_30e_030_02";
            scene.add(pv030);
            setMessage("3D", "Loaded PV030.");
            createLabel("030");

            pv031 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv031.position.set(0, 0.5, -16);
            pv031.rotateY( Math.PI / 6 );
	    pv031.rotateX( Math.PI / 3);
            pv031.name = "1A_60_30e_031_02";
            scene.add(pv031);
            setMessage("3D", "Loaded PV031.");
            createLabel("031");

            pv032 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv032.position.set(7, 0.5, 10.5);
            pv032.rotateY( Math.PI / 12 );
	    pv032.rotateX( Math.PI / 12);
            pv032.name = "3A_15_15e_032_02";
            scene.add(pv032);
            setMessage("3D", "Loaded PV032.");
            createLabel("032");

            pv033 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv033.position.set(-10, 0.5, 29.5);
            pv033.rotateY( Math.PI / 12 );
	    pv033.rotateX( Math.PI / 12);
            pv033.name = "1B_15_15e_033_02";
            scene.add(pv033);
            setMessage("3D", "Loaded PV033.");
            createLabel("033");
            
            pv034 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv034.position.set(-11, 0.5, 31.5);
            pv034.rotateY( Math.PI / 12 );
	    pv034.rotateX( Math.PI / 12);
            pv034.name = "4B_15_15e_034_02";
            scene.add(pv034);
            setMessage("3D", "Loaded PV034.");
            createLabel("034");

            pv035 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv035.position.set(-13, 0.5, 19);
            pv035.rotateY( Math.PI / 12 );
	    pv035.rotateX( Math.PI / 6);
            pv035.name = "3A_30_15e_035_02";
            scene.add(pv035);
            setMessage("3D", "Loaded PV035.");
            createLabel("035");

            pv036 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv036.position.set(-13, 0.5, 21);
            pv036.rotateY( Math.PI / 12 );
	    pv036.rotateX( Math.PI / 6);
            pv036.name = "1A_30_15e_036_02";
            scene.add(pv036);
            setMessage("3D", "Loaded PV036.");
            createLabel("036");

            pv037 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv037.position.set(-7, 0.5, 20);
            pv037.rotateY( Math.PI / 12 );
	    pv037.rotateX( Math.PI / 6);
            pv037.name = "5A_30_15e_037_02";
            scene.add(pv037);
            setMessage("3D", "Loaded PV037.");
            createLabel("037");

            pv038 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv038.position.set(8, 0.5, -14);
            pv038.rotateY( Math.PI / 12 );
	    pv038.rotateX( Math.PI / 4);
            pv038.name = "3A_45_15e_038_02";
            scene.add(pv038);
            setMessage("3D", "Loaded PV038.");
            createLabel("038");

            pv039 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv039.position.set(8, 0.5, -10);
            pv039.rotateY( Math.PI / 12 );
	    pv039.rotateX( Math.PI / 4);
            pv039.name = "1A_45_15e_039_02";
            scene.add(pv039);
            setMessage("3D", "Loaded PV039.");
            createLabel("039");

            pv040 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv040.position.set(9, 0.5, -6.5);
            pv040.rotateY( Math.PI / 12 );
	    pv040.rotateX( Math.PI / 4);
            pv040.name = "4A_45_15e_040_02";
            scene.add(pv040);
            setMessage("3D", "Loaded PV040.");
            createLabel("040");

            pv041 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv041.position.set(4, 0.5, -20.5);
            pv041.rotateY( Math.PI / 12 );
	    pv041.rotateX( Math.PI / 3);
            pv041.name = "6A_60_15e_041_02";
            scene.add(pv041);
            setMessage("3D", "Loaded PV041.");
            createLabel("041");

            pv042 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv042.position.set(9, 0.5, -22);
            pv042.rotateY( Math.PI / 12 );
	    pv042.rotateX( Math.PI / 3);
            pv042.name = "3A_60_15e_042_02";
            scene.add(pv042);
            setMessage("3D", "Loaded PV042.");
            createLabel("042");

            pv043 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv043.position.set(8, 0.5, -17.5);
            pv043.rotateY( Math.PI / 12 );
	    pv043.rotateX( Math.PI / 3);
            pv043.name = "1A_60_15e_043_02";
            scene.add(pv043);
            setMessage("3D", "Loaded PV043.");
            createLabel("043");

            pv044 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv044.position.set(2, 0.5, 33);
            pv044.rotateY( Math.PI );
	    pv044.rotateX( 11 * Math.PI / 12);
            pv044.name = "3B_15_00s_044_02";
            scene.add(pv044);
            setMessage("3D", "Loaded PV044.");
            createLabel("044");

            pv045 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv045.position.set(5, 0.5, 34.5);
            pv045.rotateY( Math.PI );
	    pv045.rotateX( 11 * Math.PI / 12);
            pv045.name = "4B_15_00s_045_02";
            scene.add(pv045);
            setMessage("3D", "Loaded PV045."); 
            createLabel("045");

            pv046 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv046.position.set(-1, 0.5, 35);
            pv046.rotateY( Math.PI );
	    pv046.rotateX( 89 * Math.PI / 90);
            pv046.name = "6A_02_00s_046_02";
            scene.add(pv046);
            setMessage("3D", "Loaded PV046.");
            createLabel("046");

            pv047 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv047.position.set(3, 0.5, 36);
            pv047.rotateY( Math.PI );
	    pv047.rotateX( 89 * Math.PI / 90);
            pv047.name = "2A_02_00s_047_02";
            scene.add(pv047);
            setMessage("3D", "Loaded PV047.");
            createLabel("047");

            pv048 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv048.position.set(6, 0.5, 37);
            pv048.rotateY( Math.PI );
	    pv048.rotateX( 89 * Math.PI / 90);
            pv048.name = "1A_02_00s_048_02";
            scene.add(pv048);
            setMessage("3D", "Loaded PV048.");
            createLabel("048");

            pv049 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv049.position.set(-11, 0.5, 14);
            pv049.rotateY( Math.PI );
	    pv049.rotateX( 5 * Math.PI / 6);
            pv049.name = "3C_30_00s_049_02";
            scene.add(pv049);
            setMessage("3D", "Loaded PV049.");
            createLabel("049");

            pv050 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv050.position.set(-10.5, 0.5, 11);
            pv050.rotateY( Math.PI );
	    pv050.rotateX( 5 * Math.PI / 6);
            pv050.name = "1A_30_00s_050_02";
            scene.add(pv050);
            setMessage("3D", "Loaded PV050.");
            createLabel("050");

            pv051 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv051.position.set(8, 0.5, 7.5);
            pv051.rotateY( Math.PI );
	    pv051.rotateX( 5 * Math.PI / 6);
            pv051.name = "1B_30_00s_051_02";
            scene.add(pv051);
            setMessage("3D", "Loaded PV051.");
            createLabel("051");

            pv052 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv052.position.set(-10, 0.5, 8);
            pv052.rotateY( Math.PI );
	    pv052.rotateX( 5 * Math.PI / 6);
            pv052.name = "1D_30_00s_052_02";
            scene.add(pv052);
            setMessage("3D", "Loaded PV052.");
            createLabel("052");

            pv053 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv053.position.set(3, 0.5, 25);
            pv053.rotateY( Math.PI );
	    pv053.rotateX( 5 * Math.PI / 6);
            pv053.name = "1C_30_00s_053_02";
            scene.add(pv053);
            setMessage("3D", "Loaded PV053.");
            createLabel("053");

            pv054 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv054.position.set(2.5, 0.5, 28);
            pv054.rotateY( Math.PI );
	    pv054.rotateX( 5 * Math.PI / 6);
            pv054.name = "4D_30_00s_054_02";
            scene.add(pv054);
            setMessage("3D", "Loaded PV054.");
            createLabel("054");

            pv055 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv055.position.set(15, 0.5, -7);
            pv055.rotateY( Math.PI );
	    pv055.rotateX( 3 * Math.PI / 4);
            pv055.name = "3A_45_00s_055_02";
            scene.add(pv055);
            setMessage("3D", "Loaded PV055.");
            createLabel("055");

            pv056 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv056.position.set(15, 0.5, -11);
            pv056.rotateY( Math.PI );
	    pv056.rotateX( 3 * Math.PI / 4);
            pv056.name = "4A_45_00s_056_02";
            scene.add(pv056);
            setMessage("3D", "Loaded PV056.");
            createLabel("056");

            pv057 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv057.position.set(9, 0.5, -27.5);
            pv057.rotateY( Math.PI );
	    pv057.rotateX( 2 * Math.PI / 3);
            pv057.name = "6A_60_00s_057_02";
            scene.add(pv057);
            setMessage("3D", "Loaded PV057.");
            createLabel("057");

            pv058 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv058.position.set(0, 0.5, -30);
            pv058.rotateY( Math.PI );
	    pv058.rotateX( 2 * Math.PI / 3);
            pv058.name = "3A_60_00s_058_02";
            scene.add(pv058);
            setMessage("3D", "Loaded PV058.");
            createLabel("058");

            pv059 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv059.position.set(8, 0.5, 25.5);
            pv059.rotateY( 11 * Math.PI / 12 );
	    pv059.rotateX( 11 * Math.PI / 12);
            pv059.name = "3B_15_15w_059_02";
            scene.add(pv059);
            setMessage("3D", "Loaded PV059.");
            createLabel("059");

            pv060 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv060.position.set(2.5, 0.5, 31);
            pv060.rotateY( 11 * Math.PI / 12 );
	    pv060.rotateX( 11 * Math.PI / 12);
            pv060.name = "1B_15_15w_060_02";
            scene.add(pv060);
            setMessage("3D", "Loaded PV060.");
            createLabel("060");

            pv061 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv061.position.set(9.5, 0.5, 35.5);
            pv061.rotateY( 11 * Math.PI / 12 );
	    pv061.rotateX( 11 * Math.PI / 12);
            pv061.name = "4B_15_15w_061_02";
            scene.add(pv061);
            setMessage("3D", "Loaded PV061.");
            createLabel("061");

            pv062 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv062.position.set(8, 0.5, 22.15);
            pv062.rotateY( 11 * Math.PI / 12 );
	    pv062.rotateX( 5 * Math.PI / 6);
            pv062.name = "3A_30_15w_062_02";
            scene.add(pv062);
            setMessage("3D", "Loaded PV062.");
            createLabel("062");

            pv063 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv063.position.set(12.5, 0.5, 23.25);
            pv063.rotateY( 11 * Math.PI / 12 );
	    pv063.rotateX( 5 * Math.PI / 6);
            pv063.name = "1A_30_15w_063_02";
            scene.add(pv063);
            setMessage("3D", "Loaded PV063.");
            createLabel("063");

            pv064 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv064.position.set(3.5, 0.5, 21);
            pv064.rotateY( 11 * Math.PI / 12 );
	    pv064.rotateX( 5 * Math.PI / 6);
            pv064.name = "5A_30_15w_064_02";
            scene.add(pv064);
            setMessage("3D", "Loaded PV064.");
            createLabel("064");

            pv065 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv065.position.set(16, 0.5, -19);
            pv065.rotateY( 11 * Math.PI / 12 );
	    pv065.rotateX( 3 * Math.PI / 4);
            pv065.name = "3A_45_15w_065_02";
            scene.add(pv065);
            setMessage("3D", "Loaded PV065.");
            createLabel("065");

            pv066 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv066.position.set(17, 0.5, -22);
            pv066.rotateY( 11 * Math.PI / 12 );
	    pv066.rotateX( 3 * Math.PI / 4);
            pv066.name = "1A_45_15w_066_02";
            scene.add(pv066);
            setMessage("3D", "Loaded PV066.");
            createLabel("066");

            pv067 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv067.position.set(15, 0.5, -15);
            pv067.rotateY( 11 * Math.PI / 12 );
	    pv067.rotateX( 3 * Math.PI / 4);
            pv067.name = "4A_45_15w_067_02";
            scene.add(pv067);
            setMessage("3D", "Loaded PV067.");
            createLabel("067");

            pv068 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv068.position.set(15, 0.5, -27);
            pv068.rotateY( 11 * Math.PI / 12 );
	    pv068.rotateX( 2 * Math.PI / 3);
            pv068.name = "6A_60_15w_068_02";
            scene.add(pv068);
            setMessage("3D", "Loaded PV068.");
            createLabel("068");

            pv069 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv069.position.set(20, 0.5, -25.75);
            pv069.rotateY( 11 * Math.PI / 12 );
	    pv069.rotateX( 2 * Math.PI / 3);
            pv069.name = "3A_60_15w_069_02";
            scene.add(pv069);
            setMessage("3D", "Loaded PV069.");
            createLabel("069");

            pv070 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv070.position.set(25, 0.5, -24.5);
            pv070.rotateY( 11 * Math.PI / 12 );
	    pv070.rotateX( 2 * Math.PI / 3);
            pv070.name = "1A_60_15w_070_02";
            scene.add(pv070);
            setMessage("3D", "Loaded PV070.");
            createLabel("070");

            pv071 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv071.position.set(17, 0.5, 25);
            pv071.rotateY( 11 * Math.PI / 6 );
	    pv071.rotateX( Math.PI / 12);
            pv071.name = "3A_15_30w_071_02";
            scene.add(pv071);
            setMessage("3D", "Loaded PV071.");
            createLabel("071");

            pv072 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv072.position.set(6.75, 0.5, 32.5);
            pv072.rotateY( 11 * Math.PI / 6 );
	    pv072.rotateX( Math.PI / 12);
            pv072.name = "1A_15_30w_072_02";
            scene.add(pv072);
            setMessage("3D", "Loaded PV072.");
            createLabel("072");

            pv073 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv073.position.set(10.5, 0.5, 38.25);
            pv073.rotateY( 11 * Math.PI / 6 );
	    pv073.rotateX( Math.PI / 12);
            pv073.name = "1B_15_30w_073_02";
            scene.add(pv073);
            setMessage("3D", "Loaded PV073.");
            createLabel("073");

            pv074 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv074.position.set(12.5, 0.5, 27.5);
            pv074.rotateY( 11 * Math.PI / 6 );
	    pv074.rotateX( Math.PI / 12);
            pv074.name = "1D_15_30w_074_02";
            scene.add(pv074);
            setMessage("3D", "Loaded PV074.");
            createLabel("074");

            pv075 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv075.position.set(7.5, 0.5, 29.5);
            pv075.rotateY( 11 * Math.PI / 6 );
	    pv075.rotateX( Math.PI / 12);
            pv075.name = "1C_15_30w_075_02";
            scene.add(pv075);
            createLabel("075");

            pv076 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv076.position.set(11, 0.5, 33.5);
            pv076.rotateY( 11 * Math.PI / 6 );
	    pv076.rotateX( Math.PI / 12);
            pv076.name = "5D_15_30w_076_02";
            scene.add(pv076);
            setMessage("3D", "Loaded PV076.");
            createLabel("076");

            pv077 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv077.position.set(13, 0.5, 12);
            pv077.rotateY( 11 * Math.PI / 6 );
	    pv077.rotateX( Math.PI / 6);
            pv077.name = "6D_30_30w_077_02";
            scene.add(pv077);
            setMessage("3D", "Loaded PV077.");
            createLabel("077");

            pv078 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv078.position.set(12, 0.5, 15);
            pv078.rotateY( 11 * Math.PI / 6 );
	    pv078.rotateX( Math.PI / 6);
            pv078.name = "3D_30_30w_078_02";
            scene.add(pv078);
            setMessage("3D", "Loaded PV078.");
            createLabel("078");

            pv079 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv079.position.set(14, 0.5, 9);
            pv079.rotateY( 11 * Math.PI / 6 );
	    pv079.rotateX( Math.PI / 6);
            pv079.name = "1D_30_30w_079_02";
            scene.add(pv079);
            setMessage("3D", "Loaded PV079.");
            createLabel("079");

            pv080 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv080.position.set(20, 0.5, -4);
            pv080.rotateY( 11 * Math.PI / 6 );
	    pv080.rotateX( Math.PI / 4);
            pv080.name = "3A_45_30w_080_02";
            scene.add(pv080);
            setMessage("3D", "Loaded PV080.");
            createLabel("080");

            pv081 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv081.position.set(21, 0.5, -7);
            pv081.rotateY( 11 * Math.PI / 6 );
	    pv081.rotateX( Math.PI / 4);
            pv081.name = "1A_45_30w_081_02";
            scene.add(pv081);
            setMessage("3D", "Loaded PV081.");
            createLabel("081");

            pv082 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv082.position.set(21.5, 0.5, -11);
            pv082.rotateY( 11 * Math.PI / 6 );
            pv082.rotateX( Math.PI / 4);
            pv082.name = "5A_45_30w_082_02";
            scene.add(pv082);
            setMessage("3D", "Loaded PV082.");
            createLabel("082");

            pv083 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv083.position.set(24, 0.5, -21);
            pv083.rotateY( 11 * Math.PI / 6 );
	    pv083.rotateX( Math.PI / 3);
            pv083.name = "6A_60_30w_083_02";
            scene.add(pv083);
            setMessage("3D", "Loaded PV083.");
            createLabel("083");

            pv084 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv084.position.set(23, 0.5, -18);
            pv084.rotateY( 11 * Math.PI / 6 );
	    pv084.rotateX( Math.PI / 3);
            pv084.name = "3A_60_30w_084_02";
            scene.add(pv084);
            setMessage("3D", "Loaded PV084.");
            createLabel("084");

            pv085 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv085.position.set(23, 0.5, -14);
            pv085.rotateY( 11 * Math.PI / 6 );
	    pv085.rotateX( Math.PI / 3);
            pv085.name = "1A_60_30w_085_02";
            scene.add(pv085);
            setMessage("3D", "Loaded PV085.");
            createLabel("085");

            pv086 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv086.position.set(12, 0.5, 30.5);
            pv086.rotateY( 7 * Math.PI / 4 );
	    pv086.rotateX( Math.PI / 12);
            pv086.name = "2A_15_45w_086_02";
            scene.add(pv086);
            setMessage("3D", "Loaded PV086.");
            createLabel("086");

            pv087 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv087.position.set(16, 0.5, 30.5);
            pv087.rotateY( 7 * Math.PI / 4 );
	    pv087.rotateX( Math.PI / 12);
            pv087.name = "1A_15_45w_087_02";
            scene.add(pv087);
            setMessage("3D", "Loaded PV087.");
            createLabel("087");

            pv088 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv088.position.set(17, 0.5, 27.5);
            pv088.rotateY( 7 * Math.PI / 4 );
	    pv088.rotateX( Math.PI / 12);
            pv088.name = "4A_15_45w_088_02";
            scene.add(pv088);
            setMessage("3D", "Loaded PV088.");
            createLabel("088");

            pv089 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv089.position.set(20, 0.5, 11);
            pv089.rotateY( 7 * Math.PI / 4 );
            pv089.rotateX( Math.PI / 6);
            pv089.name = "6A_30_45w_089_02";
            scene.add(pv089);
            setMessage("3D", "Loaded PV089.");
            createLabel("089");

            pv090 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv090.position.set(19, 0.5, 14);
            pv090.rotateY( 7 * Math.PI / 4 );
	    pv090.rotateX( Math.PI / 6);
            pv090.name = "2A_30_45w_090_02";
            scene.add(pv090);
            setMessage("3D", "Loaded PV090.");
            createLabel("090");

            pv091 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv091.position.set(29, 0.5, -14);
            pv091.rotateY( 7 * Math.PI / 4 );
	    pv091.rotateX( Math.PI / 4);
            pv091.name = "2C_45_45w_091_02";
            scene.add(pv091);
            setMessage("3D", "Loaded PV091.");
            createLabel("091");

            pv092 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv092.position.set(23, 0.5, 7);
            pv092.rotateY( 7 * Math.PI / 4 );
	    pv092.rotateX( Math.PI / 4);
            pv092.name = "4C_45_45w_092_02";
            scene.add(pv092);
            setMessage("3D", "Loaded PV092.");
            createLabel("092");

            pv093 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv093.position.set(30, 0.5, -18);
            pv093.rotateY( 7 * Math.PI / 4 );
	    pv093.rotateX( Math.PI / 3);
            pv093.name = "6A_60_45w_093_02";
            scene.add(pv093);
            setMessage("3D", "Loaded PV093.");
            createLabel("093");

            pv094 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv094.position.set(30, 0.5, -22);
            pv094.rotateY( 7 * Math.PI / 4 );
	    pv094.rotateX( Math.PI / 3);
            pv094.name = "2A_60_45w_094_02";
            scene.add(pv094);
            setMessage("3D", "Loaded PV094.");
            createLabel("094");

            pv095 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv095.position.set(15, 0.5, 34);
            pv095.rotateY( 5 * Math.PI / 3);
	    pv095.rotateX( Math.PI / 12);
            pv095.name = "6A_15_60w_095_02";
            scene.add(pv095);
            setMessage("3D", "Loaded PV095."); 
            createLabel("095");

            pv096 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv096.position.set(14, 0.5, 37);
            pv096.rotateY( 5 * Math.PI / 3);
	    pv096.rotateX( Math.PI / 12);
            pv096.name = "2A_15_60w_096_02";
            scene.add(pv096);
            setMessage("3D", "Loaded PV096."); 
            createLabel("096");

            pv097 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv097.position.set(16, 0.5, 20);
            pv097.rotateY( 5 * Math.PI / 3);
	    pv097.rotateX( Math.PI / 6);
            pv097.name = "6A_30_60w_097_02";
            scene.add(pv097);
            setMessage("3D", "Loaded PV097.");
            createLabel("097");

            pv098 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv098.position.set(17, 0.5, 17);
            pv098.rotateY( 5 * Math.PI / 3);
	    pv098.rotateX( Math.PI / 6);
            pv098.name = "1A_30_60w_098_02";
            scene.add(pv098);
            setMessage("3D", "Loaded PV098.");
            createLabel("098");

            pv099 = new THREE.Mesh(
	        new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv099.position.set(25, 0.5, -1);
            pv099.rotateY( 5 * Math.PI / 3);
	    pv099.rotateX( Math.PI / 4);
            pv099.name = "6A_45_60w_099_02";
            scene.add(pv099);
            setMessage("3D", "Loaded PV099.");
            createLabel("099");

            pv100 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( { 
                    color: 0xD3D3D3, 
                    specular: 0x050505,
                    shininess: 100
                }) 
            );
            pv100.position.set(22, 0.5, 2);
            pv100.rotateY( 5 * Math.PI / 3);
	    pv100.rotateX( Math.PI / 4);
            pv100.name = "1A_45_60w_100_02";
            scene.add(pv100);
            setMessage("3D", "Loaded PV100.");
            createLabel("100");

            pv101 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv101.position.set(28, 0.5, -10);
            pv101.rotateY( 5 * Math.PI / 3);
	    pv101.rotateX( Math.PI / 3);
            pv101.name = "2C_60_60w_101_02";
            scene.add(pv101);
            setMessage("3D", "Loaded PV101.");
            createLabel("101");

            pv102 = new THREE.Mesh(
                new THREE.CubeGeometry( 4, 0.1, 1 ),
                new THREE.MeshPhongMaterial( {
                    color: 0xD3D3D3,
                    specular: 0x050505,
                    shininess: 100
                })
            );
            pv102.position.set(26, 0.5, -6);
            pv102.rotateY( 5 * Math.PI / 3);
	    pv102.rotateX( Math.PI / 3);
            pv102.name = "1C_60_60w_102_02";
            scene.add(pv102);
            setMessage("3D", "Loaded PV102.");
            createLabel("102");

            //scene.fog = new THREE.FogExp2( 0x000000, 0.0128 );
            //renderer.setClearColor( scene.fog.color, 1 );
            render();
        }
            
        function animate() {
            requestAnimationFrame(animate);

            if (enableControls){ 
                mycontrol.enabled = true;
            } else {
                mycontrol.enabled = false;
            }

            if (enableRotate) {
                mycontrol.rotate = true;
            } else {
                mycontrol.rotate = false;
            }
            
            mycontrol.update();

            render();
        }
        
        var vector;    
        function render() {
            //console.log(camera.position);
            // if camera.position.y more than 90 then show module number
            scene.traverse( function( node ) {
                if (node.name != "") {
                    //console.log(node.name);
                    var _id = node.name;
                    _id = _id.split("_");
                    _id = _id.pop();
                    _id = "#text" + _id;
                    if (camera.position.y > 0 && labelFlag == true) {
                        //console.log(scene.children);
                        
			var obj1 = scene.getObjectByName( node.name );
                        var width = window.innerWidth, height = window.innerHeight;
                        var widthHalf = width / 2, heightHalf = height / 2;

                        var pos = obj1.position.clone();
                        pos.project(camera);
                        pos.x = ( pos.x * widthHalf ) + widthHalf;
                        pos.y = - ( pos.y * heightHalf ) + heightHalf;
			$(_id).show();
                        $(_id).css("top", pos.y + 'px');
                        $(_id).css("left", (pos.x-10) + 'px');
                        //console.log(pos);
                    } else {
                        $(_id).hide();
                    }
                }
            });

 
            // update the picking ray with the camera and mouse position	
	        raycaster.setFromCamera( mouse, camera );	

	        // calculate objects intersecting the picking ray
	        var intersects = raycaster.intersectObjects( scene.children );
                //console.log("Check intersection");
                //console.log(intersects);
	        for ( var i = 0; i < intersects.length; i++ ) {
		        //intersects[ i ].object.material.color.set( 0xff0000 );
                //$("#obj-tooltip").text(intersects[ i ].object.name); 
                if (intersects[ i ].object.name != "") {
                    $("#obj-tooltip").text("Module: " + intersects[ i ].object.name);
                    $("#val-tooltip").text("Value: " + data[ intersects[ i ].object.name ]);
                }
            }
            
            renderer.render(scene, camera);
            
            vector = camera.getWorldDirection();
            theta = Math.atan2(vector.x,vector.z);
            theta = theta + 3.142; // add/minux pi to inverse
            var degree = theta * (180/3.142);
            //console.log(degree);
            draw(degree);
        }
        
        /*
        $("#testTrigger").click(function() {
            pv001.material.color.setHex( 0x00ff00 );
            pv001.scale.y = 10;
            pv001.position.y = 5.5;
            setMessage("3D", "Updated PV001.");
            render();
        });
        */

        
        $("#message").mousedown(function() {
            enableControls = false;
            setMessage("GUI", "De-select main scene. Click on main scene to re-select.");
            //render();
        });
        
        $("#orientation").mousedown(function() {
            enableControls = false;
            setMessage("GUI", "De-select main scene. Click on main scene to re-select.");
            //render();
        });
        
        $("#settings").mousedown(function() {
            enableControls = false;
            setMessage("GUI", "De-select main scene. Click on main scene to re-select.");
            //render();
        });
        
        $("#slider").mousedown(function() {
            enableControls = false;
            setMessage("GUI", "De-select main scene. Click on main scene to re-select.");
            //render();
        });
        
        $("#container").mousedown(function() {
            enableControls = true;
            enableRotate = true;
            animate();
            setMessage("GUI", "Selected main scene.");
        });
        
        $("#container").mouseup(function() {
            enableRotate = false;
            //animate();
            setMessage("GUI", "Selected main scene.");
        });
    </script>
<script>
jQuery(window).load(function () {

myTimer();
var myVar = setInterval(myTimer, 10000);

function myTimer() {
    var dataToSend = {};
    var object;
    var colour;
    var value;
    
    $.ajax({
        url: '/getdata/',
        type: 'GET',
        data: dataToSend,
        success: function (response) {
            //var objresponse = JSON.parse(response);
            console.log(response);
            data = response;
            var obj = response;
            for (var prop in obj) {
                value = obj[prop];
                if (prop == "time") {
                    $("#slider-tooltip").text(value);
                } else {
                    // 0 = red
                    // 1 = green
                    if (value <= 0) {
                        colour = "0xff0000";
                    } else {
                        colour = "0x00ff00";
                    }
                
                    object = scene.getObjectByName( prop, true );
                    console.log(prop);
                    if (prop.endsWith("_02")) {
                        object.material.color.setHex( colour );
                    }
                }
            }
        },
            error: function () {
                console.log("Error.")
        }
    });
}

});


</script>
</body>
</html>
